<nav class="menu-container" role="navigation" aria-label="Menú principal de navegación">
  <!-- Información del usuario -->
  <header class="user-profile-section" *ngIf="currentUser()" role="banner">
    <div class="user-profile">
      <div class="user-avatar" [attr.aria-label]="transloco.translate('menu.messages.avatar_alt', {name: currentUser()?.displayName || currentUser()?.username})">
        {{ (currentUser()?.displayName || currentUser()?.username || '??').charAt(0).toUpperCase() }}
      </div>
      <div class="user-details">
        <div class="user-name" 
             [attr.title]="currentUser()?.displayName || currentUser()?.username">
          {{ currentUser()?.displayName || currentUser()?.username }}
        </div>
        <div class="user-role" 
             [attr.aria-label]="transloco.translate('menu.messages.user_role', {role: getRoleDisplayText()})">
          {{ getRoleDisplayText() }}
        </div>
      </div>
    </div>
  </header>

  <mat-divider role="separator"></mat-divider>

  <!-- Navegación principal -->
  <section class="navigation-section" role="main">
    <mat-nav-list class="main-nav" role="list">
      @for (item of navItems; track item.route) {
        <ng-container *ngIf="item">
          <a mat-list-item 
             [routerLink]="item.route" 
             (click)="onNavigate()" 
             routerLinkActive="active"
             [routerLinkActiveOptions]="{exact: item.route === '/dashboard/home'}"
             [attr.aria-label]="item.ariaLabel"
             [attr.title]="item.label"
             class="nav-item"
             role="listitem">
            <mat-icon [attr.aria-hidden]="true" 
                      [fontIcon]="item.icon">
            </mat-icon>
            <span class="nav-label">{{ item.label }}</span>
          </a>
        </ng-container>
      }
    </mat-nav-list>
  </section>

  <mat-divider role="separator"></mat-divider>

  <!-- Sección de logout -->
  <footer class="logout-section" role="contentinfo">
    <button mat-list-item 
            (click)="onLogout()" 
            class="logout-item"
            type="button"
            [attr.aria-label]="transloco.translate('menu.aria.logout')"
            [attr.title]="transloco.translate('menu.logout')">
      <mat-icon [fontIcon]="'logout'" 
                class="logout-icon" 
                [attr.aria-hidden]="true">
      </mat-icon>
      <span class="logout-label">{{ transloco.translate('menu.logout') }}</span>
    </button>
  </footer>
</nav>