<div class="menu-container">
  <!-- Información del usuario -->
  <div class="user-profile-section" *ngIf="currentUser()">
    <div class="user-profile">
      <div class="user-avatar">
        {{ (currentUser()?.displayName || currentUser()?.username || '??').charAt(0).toUpperCase() }}
      </div>
      <div class="user-details">
        <div class="user-name">{{ currentUser()?.displayName || currentUser()?.username }}</div>
        <div class="user-role">{{ getRoleDisplayText() }}</div>
      </div>
    </div>
  </div>

  <mat-divider></mat-divider>

  <!-- Navegación principal -->
  <mat-nav-list class="main-nav">
    @for (item of navItems; track $index) {
    <ng-container *ngIf="item">
        <a mat-list-item 
           [routerLink]="item.route" 
           (click)="onNavigate()" 
           routerLinkActive="active"
           [attr.aria-label]="item.ariaLabel"
           class="nav-item">
            <mat-icon aria-hidden="false" 
                      [attr.aria-label]="item.ariaLabel + ' icon'"
                      fontIcon="{{ item.icon }}">
            </mat-icon>
            <span class="nav-label">{{ item.label }}</span>
        </a>
    </ng-container>
    }
  </mat-nav-list>

  <mat-divider></mat-divider>

  <!-- Sección de logout -->
  <div class="logout-section">
    <button mat-list-item 
            (click)="onLogout()" 
            class="logout-item"
            aria-label="Cerrar sesión">
      <mat-icon fontIcon="logout" class="logout-icon"></mat-icon>
      <span class="logout-label">Cerrar Sesión</span>
    </button>
  </div>
</div>