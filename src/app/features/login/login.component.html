<div class="login-container">
  <div class="login-card-wrapper">
    <mat-card class="login-card">
      <mat-card-header class="login-header">
        <div class="logo-section">
          <div class="custom-logo">
            <svg viewBox="0 0 100 100" class="logo-svg">
              <!-- Chart Bars -->
              <rect x="15" y="70" width="12" height="25" rx="2" fill="currentColor" opacity="0.7" />
              <rect x="35" y="50" width="12" height="45" rx="2" fill="currentColor" opacity="0.8" />
              <rect x="55" y="60" width="12" height="35" rx="2" fill="currentColor" opacity="0.9" />
              <rect x="75" y="35" width="12" height="60" rx="2" fill="currentColor" />

              <!-- Trend Line -->
              <path
                d="M 21 82 Q 41 62 41 62 Q 61 72 61 72 Q 81 47 81 47"
                stroke="currentColor"
                stroke-width="2.5"
                fill="none"
                opacity="0.9"
                stroke-linecap="round"
              />

              <!-- Data Points -->
              <circle cx="21" cy="82" r="3" fill="currentColor" />
              <circle cx="41" cy="62" r="3" fill="currentColor" />
              <circle cx="61" cy="72" r="3" fill="currentColor" />
              <circle cx="81" cy="47" r="3" fill="currentColor" />

              <!-- Analytics Symbol -->
              <g transform="translate(50, 20)">
                <circle cx="0" cy="0" r="8" fill="none" stroke="currentColor" stroke-width="2" opacity="0.6" />
                <path
                  d="M -4,-2 L 0,2 L 4,-2"
                  stroke="currentColor"
                  stroke-width="2"
                  fill="none"
                  stroke-linecap="round"
                  opacity="0.8"
                />
              </g>
            </svg>
          </div>
          <h1>{{ 'login.app_name' | transloco }}</h1>
          <p class="subtitle">{{ 'login.subtitle' | transloco }}</p>
        </div>
      </mat-card-header>

      <mat-card-content class="login-content">
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
          <!-- Email Field -->
          <div class="form-field-wrapper">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>{{ 'login.email' | transloco }}</mat-label>
              <input
                matInput
                type="email"
                formControlName="email"
                [placeholder]="'login.email_placeholder' | transloco"
                autocomplete="email"
              />
              <mat-icon matSuffix>email</mat-icon>
              <mat-error *ngIf="emailError">{{ emailError }}</mat-error>
            </mat-form-field>
          </div>

          <!-- Password Field -->
          <div class="form-field-wrapper">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>{{ 'login.password' | transloco }}</mat-label>
              <input
                matInput
                [type]="showPassword() ? 'text' : 'password'"
                formControlName="password"
                [placeholder]="'login.password_placeholder' | transloco"
                autocomplete="current-password"
              />
              <button
                mat-icon-button
                matSuffix
                type="button"
                (click)="togglePasswordVisibility()"
                [attr.aria-label]="
                  showPassword() ? ('login.hide_password' | transloco) : ('login.show_password' | transloco)
                "
                [attr.aria-pressed]="showPassword()"
              >
                <mat-icon>{{ showPassword() ? 'visibility_off' : 'visibility' }}</mat-icon>
              </button>
              <mat-error *ngIf="passwordError">{{ passwordError }}</mat-error>
            </mat-form-field>
          </div>

          <!-- Submit Button -->
          <button
            mat-raised-button
            color="primary"
            type="submit"
            class="login-button full-width"
            [disabled]="!loginForm.valid || isLoading()"
          >
            <mat-spinner *ngIf="isLoading()" diameter="20" class="button-spinner"> </mat-spinner>

            <span *ngIf="!isLoading()">{{ 'login.submit' | transloco }}</span>
            <span *ngIf="isLoading()">{{ 'login.submitting' | transloco }}</span>
          </button>
        </form>
      </mat-card-content>

      <mat-card-actions class="login-actions">
        <div class="action-links">
          <button mat-button color="accent" (click)="navigateToRegister()" class="register-link">
            {{ 'login.register_link' | transloco }}
          </button>
        </div>
      </mat-card-actions>
    </mat-card>
  </div>

  <!-- Background decoration -->
  <div class="background-decoration">
    <div class="decoration-circle circle-1"></div>
    <div class="decoration-circle circle-2"></div>
    <div class="decoration-circle circle-3"></div>
  </div>
</div>
